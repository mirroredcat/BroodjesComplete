CREATE TABLE staff
	(stid int PRIMARY KEY DEFAULT nextval('staff_stid_seq'),
	stfname char(45) NOT NULL,
	stlname char(45) NOT NULL,
	stemail char (45) NOT NULL,
	stpass char(12) NOT NULL
	);
	
CREATE TABLE students
(sid int PRIMARY KEY DEFAULT nextval('students_sid_seq'),
	sfname char(45) NOT NULL,
	slname char(45) NOT NULL
);

CREATE TABLE courses
( cid int PRIMARY KEY DEFAULT nextval('courses_cid_seq'),
	ctitle char(45) NOT NULL,
	c_stid int,
	cduration int NOT NULL,
	CONSTRAINT fk_course FOREIGN KEY (c_stid) REFERENCES staff
);

CREATE TABLE sessions
	(seid int PRIMARY KEY DEFAULT nextval('sessions_seid_seq'),
	se_cid int NOT NULL,
	se_stid int NOT NULL,
	sestart date NOT NULL
);

CREATE TABLE enrolments 
( eid int PRIMARY KEY DEFAULT nextval('enrolments_eid_seq'),
e_seid int NOT NULL,
e_sid int NOT NULL,

CONSTRAINT fk_session FOREIGN KEY (e_seid) REFERENCES sessions,
CONSTRAINT fk_students FOREIGN KEY (e_sid) REFERENCES students
);

CREATE TABLE sand_comps
(scid int PRIMARY KEY DEFAULT nextval('sand_comp_scid_seq'),
	scname char(40) NOT NULL,
	scaddress char(100),
	scphone char(10)
);


CREATE TABLE sandwiches
(said int PRIMARY KEY DEFAULT nextval('sandwiches_said_seq'),
sname char(45) NOT NULL,
s_scid int NOT NULL,
scateg char(45) NOT NULL,
sprice NUMERIC(9,2) NOT NULL,
singred char(100),
CONSTRAINT fk_sandcomp FOREIGN KEY (s_scid) REFERENCES sand_comps
);


CREATE TABLE orders 
( oid int PRIMARY KEY DEFAULT nextval('orders_oid_seq'),
	odate date NOT NULL,
	o_seid int NOT NULL,
	osize int NOT NULL,
	o_scid int NOT NULL,
	ototal NUMERIC(9,2) NOT NULL,
	
	CONSTRAINT fk_ordersandcomp FOREIGN KEY (o_scid) REFERENCES sand_comps,
	CONSTRAINT fk_ordersession FOREIGN KEY (o_seid) REFERENCES sessions
);
